(()=>{"use strict";Math.PI;function t(t,e){e.scale=Math.min(window.innerWidth/e.width,window.innerHeight/e.height),t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight,t.scale(e.scale,e.scale),e.offsetX=Math.floor((window.innerWidth/e.scale-e.width)/2),e.offsetY=Math.floor((window.innerHeight/e.scale-e.height)/2),t.translate(e.offsetX,e.offsetY)}function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,o(n.key),n)}}function o(t){var i=function(t,i){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,i||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==e(i)?i:i+""}var n=function(){return e=function e(i){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.canvas=i,this.ctx=i.getContext("2d"),this.frameData={lastTime:0,deltaTime:0,fps:{accum:0,frames:0,avg:0}},this.displayData={scale:1,offsetX:0,offsetY:0,width:800,height:600},function(t){var e=window.devicePixelRatio,i=function(){return+getComputedStyle(t).getPropertyValue("height").slice(0,-2)},o=function(){return+getComputedStyle(t).getPropertyValue("width").slice(0,-2)};t.setAttribute("width",o()*e),t.setAttribute("height",i()*e)}(this.canvas),window.addEventListener("resize",function(){t(o.ctx,o.displayData)}),this.clickLocations=[],i.addEventListener("click",function(t){var e=i.getBoundingClientRect(),n=(t.clientX-e.left)/o.displayData.scale-o.displayData.offsetX,a=(t.clientY-e.top)/o.displayData.scale-o.displayData.offsetY;console.log("Click at canvas coordinates: (".concat(n.toFixed(2),", ").concat(a.toFixed(2),")")),o.clickLocations.push({x:n,y:a})}),this.start()},(o=[{key:"start",value:function(){var e=this;t(this.ctx,this.displayData),window.requestAnimationFrame(function(t){return e.gameLoop(t)})}},{key:"gameLoop",value:function(t){var e,i,o=this;!function(t,e){e.deltaTime=t-e.lastTime,e.lastTime=t,e.fps.accum+=Math.floor(1e3/e.deltaTime),e.fps.frames++,e.fps.frames>=60&&(e.fps.avg=Math.floor(e.fps.accum/e.fps.frames),e.fps.accum=0,e.fps.frames=0)}(t,this.frameData),e=this.ctx,i=this.displayData,e.clearRect(-i.offsetX,-i.offsetY,i.width+2*i.offsetX,i.height+2*i.offsetY),function(t,e,i,o,n,a){e=e||{scale:1,offsetX:0,offsetY:0,width:800,height:800},i=i||10,o=o||5*i,n=n||"#00FF00",a=a||"#009900",t.save(),t.strokeStyle=n,t.fillStyle=a,t.font="16px Arial";for(var f=-(e.offsetX-e.offsetX%i),s=Math.max(e.offsetX+e.width,e.width),h=-(e.offsetY-e.offsetY%i),l=Math.max(e.offsetY+e.height,e.height),r=f;r<s;r+=i)t.beginPath(),t.moveTo(r,h),t.lineTo(r,l),r%o==0?(t.lineWidth=.5,t.fillText(r,r,13)):t.lineWidth=.25,t.stroke();for(var c=h;c<l;c+=i)t.beginPath(),t.moveTo(f,c),t.lineTo(s,c),c%o==0?(t.lineWidth=.5,t.fillText(c,0,c+13)):t.lineWidth=.25,t.stroke();t.beginPath(),t.strokeStyle="red",t.fillStyle="red",t.lineWidth=2,t.moveTo(0,e.height/2),t.lineTo(10-e.offsetX,e.height/2),t.lineTo(10-e.offsetX,e.height/2-5),t.lineTo(-e.offsetX,e.height/2),t.lineTo(10-e.offsetX,e.height/2+5),t.lineTo(10-e.offsetX,e.height/2),t.stroke(),t.fill(),t.beginPath(),t.moveTo(e.width,e.height/2),t.lineTo(e.width-10+e.offsetX,e.height/2),t.lineTo(e.width-10+e.offsetX,e.height/2-5),t.lineTo(e.width+e.offsetX,e.height/2),t.lineTo(e.width-10+e.offsetX,e.height/2+5),t.lineTo(e.width-10+e.offsetX,e.height/2),t.stroke(),t.fill(),t.beginPath(),t.moveTo(e.width/2,0),t.lineTo(e.width/2,10-e.offsetY),t.lineTo(e.width/2-5,10-e.offsetY),t.lineTo(e.width/2,-e.offsetY),t.lineTo(e.width/2+5,10-e.offsetY),t.lineTo(e.width/2,10-e.offsetY),t.stroke(),t.fill(),t.beginPath(),t.moveTo(e.width/2,e.height),t.lineTo(e.width/2,e.height+e.offsetY-10),t.lineTo(e.width/2-5,e.height+e.offsetY-10),t.lineTo(e.width/2,e.height+e.offsetY),t.lineTo(e.width/2+5,e.height+e.offsetY-10),t.lineTo(e.width/2,e.height+e.offsetY-10),t.stroke(),t.fill(),t.save(),t.strokeStyle="red",t.lineWidth=4,t.fillStyle="red",t.strokeRect(20,20,e.width-40,e.height-40),t.restore()}(this.ctx,this.displayData),function(t,e){t.save(),t.fillStyle="white",t.font="24px Arial",t.fillText("FPS: "+e,30,48),t.restore()}(this.ctx,this.frameData.fps.avg),this.clickLocations.forEach(function(t){o.ctx.beginPath(),o.ctx.strokeStyle="red",o.ctx.fillStyle="orange",o.ctx.lineWidth=10,o.ctx.arc(t.x,t.y,10,0,2*Math.PI,!1),o.ctx.stroke(),o.ctx.fill()}),window.requestAnimationFrame(function(t){return o.gameLoop(t)})}}])&&i(e.prototype,o),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,n}();window.onload=function(){var t=document.getElementById("gameCanvas");new n(t)}})();